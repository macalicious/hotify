<html>
  <head>
    <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js'></script>
    <script>
      $(document).ready(function(){

    	  /*
    	function debug(str){ $("#debug").append("<p>"+str+"</p>"); };

        console.log("here")
        ws = new WebSocket("ws://172.31.8.13:9090/jsonrpc");
        ws.onmessage = function(evt) { $("#msg").append("<p>"+evt.data+"</p>"); };
        ws.onclose = function() { debug("socket closed"); };
        ws.onopen = function() {
          debug("connected...");
          ws.send("{\"jsonrpc\":\"2.0\",\"method\":\"Player.GetItem\",\"id\":1\"}");
        };
        console.log(ws);
        */
//    	  var xbmcSocket = new WebSocket('ws://172.31.8.13:9090/jsonrpc');
    	/*  
        var xbmcSocket = new WebSocket('ws://localhost:9090/jsonrpc');
    	  xbmcSocket.onopen = function() {
    		  console.log('xbmcSocket.open');
    		  xbmcSocket.send(JSON.stringify({
    			  "id": 1,
    			  "jsonrpc": "2.0",
    			  "method": "JSONRPC.Ping"
    			  }));
    		  };
    		  xbmcSocket.onmessage = function(msg) {
    			  console.log('xbmcSocket.onmessage', msg);
    	  };
    	  
    	  xbmcSocket.onerror = function(data) {
    		  console.log("error " + data);
    	  }*/
    	  if ("WebSocket" in window) {
              var wsConn = 'ws://172.31.8.50:8080/';
              console.log(wsConn);
              ws = new WebSocket(wsConn);
              console.log(ws);
              ws.onopen = function (e) {
                  console.log('socket open');
                  ws.send('{"requestType": "PlayList"}');
              };
              ws.onerror = function (err) {
                  console.log(err);
              };
              ws.onmessage = function (e) {
                  console.log(e.data);
              };
              ws.onclose = function (e) {
                  console.log('socket close');
              };
          };
      });
      
      function vote() {
    	  console.log("vote");
    	  ws.send('{"requestType": "QuickShow"}')
          //ws.send('{"type": "VoteTrack", "trackId": "spotify:track:0eWhtfTZPFGNv4sPFY3luN"}');
      }
    </script>
  </head>
  <body>
    <div id="debug"></div>
    <div id="msg"></div>
    <input type="button" onclick="vote()" >Button</input>
  </body>
</html>